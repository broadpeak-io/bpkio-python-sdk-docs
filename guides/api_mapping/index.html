
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the broadpeak.io Python SDK">
      
      
      
      
        <link rel="prev" href="../quickstart/">
      
      
        <link rel="next" href="../authentication/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Mapping with API - bpkio-python-sdk</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mapping-with-the-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="bpkio-python-sdk" class="md-header__button md-logo" aria-label="bpkio-python-sdk" data-md-component="logo">
      
  <img src="../../assets/logo-black.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bpkio-python-sdk
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Mapping with API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/broadpeak-io/bpkio-python-sdk-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    broadpeak-io/bpkio-python-sdk-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../installation/" class="md-tabs__link">
          
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/" class="md-tabs__link">
          
  
    
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="bpkio-python-sdk" class="md-nav__button md-logo" aria-label="bpkio-python-sdk" data-md-component="logo">
      
  <img src="../../assets/logo-black.svg" alt="logo">

    </a>
    bpkio-python-sdk
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/broadpeak-io/bpkio-python-sdk-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    broadpeak-io/bpkio-python-sdk-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Mapping with API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Mapping with API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#endpoint-path" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoint path
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#endpoint-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoint methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Endpoint methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Base methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Base methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    <span class="md-ellipsis">
      List
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieve" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieve
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-order-methods" class="md-nav__link">
    <span class="md-ellipsis">
      High-order methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-order methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Search / Filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert" class="md-nav__link">
    <span class="md-ellipsis">
      Upsert
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-specific-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Resource-specific methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    <span class="md-ellipsis">
      Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returned-values" class="md-nav__link">
    <span class="md-ellipsis">
      Returned values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Method parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Method parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#as-in-models" class="md-nav__link">
    <span class="md-ellipsis">
      as "In" models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#as-dictionaries" class="md-nav__link">
    <span class="md-ellipsis">
      as dictionaries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#as-full-models" class="md-nav__link">
    <span class="md-ellipsis">
      as full models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/endpoints/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Endpoints
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Endpoints
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/endpoints/sources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/endpoints/services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/endpoints/transcoding_profiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transcoding Profiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/endpoints/users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Users
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/endpoints/tenants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tenants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/endpoints/categories/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/endpoints/consumption/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consumption
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/models/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/sources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/transcoding_profiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transcoding Profiles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Users
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/tenants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tenants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/categories/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/consumption/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consumption
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/utils/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Utilities
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utils/credential_provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credential Provider
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utils/caching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Caching
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utils/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#endpoint-path" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoint path
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#endpoint-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoint methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Endpoint methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Base methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Base methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    <span class="md-ellipsis">
      List
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieve" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieve
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-order-methods" class="md-nav__link">
    <span class="md-ellipsis">
      High-order methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High-order methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Search / Filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert" class="md-nav__link">
    <span class="md-ellipsis">
      Upsert
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-specific-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Resource-specific methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    <span class="md-ellipsis">
      Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returned-values" class="md-nav__link">
    <span class="md-ellipsis">
      Returned values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Method parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Method parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#as-in-models" class="md-nav__link">
    <span class="md-ellipsis">
      as "In" models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#as-dictionaries" class="md-nav__link">
    <span class="md-ellipsis">
      as dictionaries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#as-full-models" class="md-nav__link">
    <span class="md-ellipsis">
      as full models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="mapping-with-the-api">Mapping with the API<a class="headerlink" href="#mapping-with-the-api" title="Permanent link">&para;</a></h1>
<p>The broadpeak.io Python SDK maps the broadpeak.io API to Python objects and methods.</p>
<p>This page describes the principles used to define that mapping.</p>
<h2 id="endpoint-path">Endpoint path<a class="headerlink" href="#endpoint-path" title="Permanent link">&para;</a></h2>
<p>The bpkio_api object is the main object in the SDK. It provides access to all the resources and operations available in the broadpeak.io platform.</p>
<p>It maps all broadpeak.io API endpoint paths to chains of sub-objects. For example, for top-level endpoints, you will do:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># API: /sources</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">sources</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># API: /services</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">services</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># API: /transcoding-profiles</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">transcoding_profiles</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">transcoding_profiles</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</code></pre></div>
<p>And as you navigate deeper into the API, the same continues to apply:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># API: /sources/live</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">live_sources</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># API: /services/virtual-channel</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">virtual_channels</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">virtual_channel</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The object names follow the Python "snake_case" naming conventions. So, dashes (<code>-</code>) are converted to underscores (<code>_</code>). For example, the <code>virtual-channel</code> endpoint is mapped to the <code>virtual_channel</code> sub-object.</p>
</div>
<p>When a resource identifier has to be passed in the path to get access to sub-resources, you will pass it as a keyword argument to the sub-object:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># API: /services/virtual-channel/{serviceId}/slots</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">virtual_channel_slots</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">virtual_channel</span><span class="o">.</span><span class="n">slots</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">service_id</span><span class="o">=</span><span class="s1">&#39;&lt;id-of-the-service&gt;&quot;)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Here again, the snake_case naming convention is respected, so the <code>serviceId</code> needs to be passed as <code>service_id</code> in the parameter list.</p>
</div>
<h2 id="endpoint-methods">Endpoint methods<a class="headerlink" href="#endpoint-methods" title="Permanent link">&para;</a></h2>
<h3 id="base-methods">Base methods<a class="headerlink" href="#base-methods" title="Permanent link">&para;</a></h3>
<p>When working with broadpeak.io resources, the SDK provides a 1:1 mapping of the HTTP methods to Python methods.</p>
<table>
<thead>
<tr>
<th>HTTP Method</th>
<th>Description</th>
<th>Python Method</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GET</code></td>
<td>retrieve a list of resources</td>
<td><code>list</code></td>
</tr>
<tr>
<td><code>GET</code></td>
<td>retrieve a single resource</td>
<td><code>retrieve</code></td>
</tr>
<tr>
<td><code>POST</code></td>
<td>create a resource</td>
<td><code>create</code></td>
</tr>
<tr>
<td><code>PUT</code></td>
<td>update a resource</td>
<td><code>update</code></td>
</tr>
<tr>
<td><code>DELETE</code></td>
<td>delete a resource</td>
<td><code>delete</code></td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">api</span> <span class="o">=</span> <span class="n">BroadpeakIoApi</span><span class="p">()</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1"># List all sources</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">sources</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="c1"># Create a new source</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">LiveSourceIn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My new source&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/stream.m3u8&quot;</span><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">new_source</span><span class="p">)</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="c1"># Get a specific source</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="n">old_source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&lt;id-of-the-source&gt;&#39;</span><span class="p">)</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="c1"># Delete a source</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">old_source</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre></div>
<h4 id="list">List<a class="headerlink" href="#list" title="Permanent link">&para;</a></h4>
<p>Note that the <code>list</code> method does automatically handle pagination, so you don't need to worry about it.
If you need to work with the raw pagination data, you can access it via the <code>_get_page</code> method.</p>
<h4 id="retrieve">Retrieve<a class="headerlink" href="#retrieve" title="Permanent link">&para;</a></h4>
<p>To retrieve a particular resource (source or service) with the broadpeak.io API requires knowing the particular type of resource. </p>
<p>To make life easier, the SDK does allow you to perform the <code>retrieve</code> method on the top-level resource. The object returned will be the appropriate model.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&lt;id-of-the-source&gt;&#39;</span><span class="p">)</span>
</code></pre></div>
is equivalent (assuming that the source is a live source) to:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&lt;id-of-the-live-source&gt;&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="high-order-methods">High-order methods<a class="headerlink" href="#high-order-methods" title="Permanent link">&para;</a></h3>
<p>The SDK also provides high-order methods that can be used to work with resources, providing convenience mechanisms for a number of common operations where multiple API calls are required.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>count</code></td>
<td>Count the number of resources</td>
</tr>
<tr>
<td><code>search</code></td>
<td>Filter the list of resources matching specific criteria</td>
</tr>
<tr>
<td><code>search_by_type</code></td>
<td>Filter the list of resources for a particular type</td>
</tr>
<tr>
<td><code>upsert</code></td>
<td>Create, retrieve or update a resource</td>
</tr>
</tbody>
</table>
<h4 id="search-filter">Search / Filter<a class="headerlink" href="#search-filter" title="Permanent link">&para;</a></h4>
<p>The <code>search</code> method can be used to filter the list of resources:</p>
<p>It takes the following parameters:</p>
<ul>
<li><code>value</code>: The value to search for.</li>
<li><code>field</code>: The field to search in.</li>
<li><code>method</code>: The method to use for the search.<ul>
<li><code>STRICT</code>: Strict match.</li>
<li><code>STRING_MATCH</code>: Exact string match, but also works with enum values.</li>
<li><code>STRING_SUB</code>: Partial string match.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Search for services with a name containing &quot;My&quot;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">sources</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;My&quot;</span><span class="p">,</span> 
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="n">field</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> 
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>    <span class="n">method</span><span class="o">=</span><span class="n">SearchMethod</span><span class="o">.</span><span class="n">STRING_SUB</span><span class="p">)</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1"># Search for sources with a URL containing &quot;example.com&quot;</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="n">sources</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;example.com&quot;</span><span class="p">,</span> 
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>    <span class="n">field</span><span class="o">=</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> 
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    <span class="n">method</span><span class="o">=</span><span class="n">SearchMethod</span><span class="o">.</span><span class="n">STRING_SUB</span><span class="p">)</span>
</code></pre></div>
<p>If you don't define the <code>field</code> parameter, the SDK will look through all the fields of the resource to find a match. And by default, the <code>method</code> will be <code>STRING_SUB</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Search for services with any property containing &quot;foo&quot;</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">services</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
</code></pre></div>
<p>If you need to apply multiple filters, you can do so by passing a list of tuples to the <code>filters</code> parameter.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Search for all enabled services with a name containing &quot;AVOD&quot;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">services</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    <span class="p">(</span><span class="s2">&quot;AVOD&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">SearchMethod</span><span class="o">.</span><span class="n">STRING_CONTAINS</span><span class="p">),</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    <span class="p">(</span><span class="s2">&quot;enabled&quot;</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="n">SearchMethod</span><span class="o">.</span><span class="n">STRICT</span><span class="p">)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="p">])</span>
</code></pre></div>
<p>Finally, since it's a fairly common operation, the SDK provides a helper method to search for resources by type.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Search for all live sources</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">live_sources</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">search_by_type</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">SourceType</span><span class="o">.</span><span class="n">LIVE</span><span class="p">)</span>
</code></pre></div>
<h4 id="upsert">Upsert<a class="headerlink" href="#upsert" title="Permanent link">&para;</a></h4>
<p>The <code>upsert</code> method is a convenience method that can be used to create, retrieve or update a resource, based on its existence in the platform.</p>
<ul>
<li>If the resource does not exist, it will be created.</li>
<li>If the resource exists, the behaviour depends on the <code>if_exists</code> parameter.<ul>
<li>If set to <code>error</code>: Raises an error if the resource already exists.</li>
<li>If set to <code>retrieve</code>: Retrieves the resource unchanged if it exists.</li>
<li>If set to <code>update</code>: Updates the resource if it exists then returns the updated resource.</li>
</ul>
</li>
</ul>
<p>Unlike other methods, the <code>upsert</code> method returns a tuple with the resource and the operation performed.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Create a new source</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">LiveSourceIn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My new source&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/stream.m3u8&quot;</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span><span class="n">new_source</span><span class="p">)</span>
</code></pre></div>
<p>If you want to check which operation was performed, you can use the <code>upsert_status</code> helper.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">bpkio_api.helpers.upsert</span><span class="w"> </span><span class="kn">import</span> <span class="n">upsert_status</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1"># Create a new source</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">LiveSourceIn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My new source&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/stream.m3u8&quot;</span><span class="p">)</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span><span class="n">new_source</span><span class="p">)</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="c1"># Check which operation was performed</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="n">operation_used</span> <span class="o">=</span> <span class="n">upsert_status</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="c1"># (1)!</span>
</code></pre></div>
<ol>
<li>The <code>upsert_status</code> singleton is a ContextVar, so it needs to be accessed via the <code>get</code> method.</li>
</ol>
<p>The <code>operation_used</code> will be an enum value from the <code>UpsertOperationType</code> enum.</p>
<ul>
<li><code>CREATED</code>: The resource was created.</li>
<li><code>RETRIEVED</code>: The resource was retrieved.</li>
<li><code>UPDATED</code>: The resource was updated.</li>
<li><code>ERROR</code>: An error occurred.</li>
</ul>
<h3 id="resource-specific-methods">Resource-specific methods<a class="headerlink" href="#resource-specific-methods" title="Permanent link">&para;</a></h3>
<p>There are some methods that are specific to a particular resource type. For example, the <code>services</code> resource provides a <code>pause</code> and <code>unpause</code> methods.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Pause a service</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">api</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">pause</span><span class="p">(</span><span class="s1">&#39;&lt;id-of-the-service&gt;&#39;</span><span class="p">)</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="c1"># Unpause a service</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="n">api</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">unpause</span><span class="p">(</span><span class="s1">&#39;&lt;id-of-the-service&gt;&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Check the <a href="../../api/endpoints/#endpoints-overview">API reference</a> for the list of resource-specific methods.</p>
<h2 id="models">Models<a class="headerlink" href="#models" title="Permanent link">&para;</a></h2>
<p>The SDK provides a model for each of the resources available in the broadpeak.io API.</p>
<p>The list of models can be found in <a href="../../api/models/#models-overview">the API reference</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The model documentation is automatically generated from the API reference, but it may be easier to refer to the <a href="https://developers.broadpeak.io/reference">the broadpeak.io API Reference</a> to understand the structure of the resources. Check the <code>GET</code> endpoints for the resource you're interested in.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Every attempt is made to ensure that the models are as complete as possible and reflect the latest API changes, but it's always possible that some fields are missing or incorrect.</p>
</div>
<h3 id="returned-values">Returned values<a class="headerlink" href="#returned-values" title="Permanent link">&para;</a></h3>
<p>Every method that returns a resource or list of resources will parse the response JSON from the API into the appropriate model.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Get a specific source</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&lt;id-of-the-source&gt;&#39;</span><span class="p">)</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">LiveSource</span><span class="p">)</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source Name: </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source ID: </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source URL: </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="method-parameters">Method parameters<a class="headerlink" href="#method-parameters" title="Permanent link">&para;</a></h3>
<p>The SDK offers great flexibility in how you can work with the resources, in particular when passing them as parameters to methods (such as <code>create</code>, <code>update</code> and <code>upsert</code>).</p>
<h4 id="as-in-models">as "In" models<a class="headerlink" href="#as-in-models" title="Permanent link">&para;</a></h4>
<p>When creating (<code>POST</code>) or updating (<code>PUT</code>) a resource, specific models are used to represent the resource that is passed as request body. Those models have the suffix <code>In</code> in their name.</p>
<p>For example, the <code>AssetSourceIn</code> model is used to create an asset source.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">AssetSourceIn</span><span class="p">(</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;My new source&quot;</span><span class="p">,</span> 
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://example.com/stream.m3u8&quot;</span><span class="p">)</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">new_source</span><span class="p">)</span> <span class="c1"># (1)!    </span>
</code></pre></div>
<ol>
<li>The output will be of type <code>AssetSource</code>, the model that represents the full asset source.</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When you use these models, your IDE will be able to provide you with autocompletion for the model attributes.</p>
</div>
<h4 id="as-dictionaries">as dictionaries<a class="headerlink" href="#as-dictionaries" title="Permanent link">&para;</a></h4>
<p>Because the SDK's models are Pydantic models, you can instead pass a dictionary to the <code>create</code> method.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">new_source</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My new source&quot;</span><span class="p">,</span> 
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.com/stream.m3u8&quot;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="p">}</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="n">new_source_out</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">new_source</span><span class="p">)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This may be useful if - for some reason - you need to pass a resource that is not part of the SDK.</p>
</div>
<h4 id="as-full-models">as full models<a class="headerlink" href="#as-full-models" title="Permanent link">&para;</a></h4>
<p>Another advantage of using Pydantic models (in particular in combination with the way the broadpeak.io API's internal mapping works) is that you can even pass an existing full resource to the <code>create</code> method. This can be useful if you want to update an existing resource, or use a resource as a template to create a new one.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">existing_source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s1">&#39;&lt;id-of-the-source&gt;&#39;</span><span class="p">)</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="n">existing_source</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;My updated source&quot;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="n">existing_source</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://example.com/stream-updated.m3u8&quot;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="n">new_source</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">sources</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">existing_source</span><span class="p">)</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>